<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Look for a sheter near you.">
  <meta name="author" content="alpha.ca.gov team">
  <title>Find a Shelter - Alpha.CA.gov</title>

  <!-- Bootstrap core CSS -->
  <link href="https://cwds.dev/docs/4.3/dist/css/bootstrap.css" rel="stylesheet">
  <link href="https://cwds.dev/docs/4.3/assets/css/docs.css" rel="stylesheet" />
  

  <!-- Favicons -->
  <link rel="apple-touch-icon" href="https://cwds.dev/docs/4.3/assets/img/favicons/apple-touch-icon.png"
    sizes="180x180">
  <link rel="icon" href="https://cwds.dev/docs/4.3/assets/img/favicons/favicon-32x32.png" sizes="32x32"
    type="image/png">
  <link rel="icon" href="https://cwds.dev/docs/4.3/assets/img/favicons/favicon-16x16.png" sizes="16x16"
    type="image/png">

  <link rel="mask-icon" href="https://cwds.dev/docs/4.3/assets/img/favicons/safari-pinned-tab.svg" color="#1d1a16">
  <link rel="icon" href="https://cwds.dev/docs/4.3/assets/img/favicons/favicon.ico">
  <meta name="msapplication-config" content="https://cwds.dev/docs/4.3/assets/img/favicons/browserconfig.xml">
  <meta name="theme-color" content="#000000">
  <link href="https://california.azureedge.net/cdt/statetemplate/6.0.0/css/cagov.font-only.min.css" rel="stylesheet" />
</head>
	
<style>
.d-none {
	display: none;
}
</style>

<body>
  <link href="https://california.azureedge.net/cdt/statetemplate/6.0.0/css/cagov.font-only.min.css" rel="stylesheet" />
  <div class="official">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <p>State of California</p>
        </div>
      </div>
    </div>
  </div>

  <nav class="navbar navbar-inverse">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand navbar-left" href="/UX/">CA.gov <sup>(ALPHA)</sup></a>
      </div>
    </div>
  </nav>

  <div class="container-fluid jumbotron">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1>Find a shelter near you</h1>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-9">
       <p class="lead">select a city to find a shelter</p>
       <form method="GET">
        <select name="city" required>
          <option value=""></option>
        </select>
        <p>
          <input type="submit" value="Go">
          <a href=".">Start Over</a>
        </p>
        
        </form>
      </div> 
    </div> 
  </div> 

  <div class="container d-none">
    <div class="row">
      <div class="col-lg-9">
       <p class="lead">Shelters in <span id="selected-city"></span></p>
<p>stuff</p>
      </div> 
    </div> 
  </div> 


<script src="citylist.js"></script>
<script type="text/javascript">
	
(function() {

  const selectedcity = getParameterByName("city")

  const citylist = document.querySelector('select')
  citylistjson().forEach(x=>{
      var option = document.createElement("option");
      option.text = x.name
      option.value = x.code

      if(selectedcity===x.code) {
        document.querySelector('.d-none').classList.toggle("d-none")
        document.getElementById("selected-city").innerText = x.name
        option.selected=true;
      }
       
      citylist.add(option)
    }
  )
  



function getParameterByName(name) {
   name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
   var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(location.search);
   return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

}())
</script>
</html>
